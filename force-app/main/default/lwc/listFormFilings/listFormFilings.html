<!--
  @description       : 
  @author            : emmanuel.martinez@tengo.co
  @group             : 
  @last modified on  : 12-23-2020
  @last modified by  : emmanuel.martinez@tengo.co
  Modifications Log 
  Ver   Date         Author                       Modification
  1.0   12-22-2020   emmanuel.martinez@tengo.co   Initial Version
-->
<template>
    
    <div class="container slds-is-relative slds-card">
        <template if:true={isLoading}>
            <lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
        </template>

        <div class="flex-container">
            <div class="icon-container">
                <lightning-icon icon-name="standard:note" alternative-text="Questionnaires" title="Questionnaires" size="medium"></lightning-icon>
            </div>
            <div class="slds-text-heading_medium heading"><b>Available Forms</b></div>
        </div>

        <template if:true={thereAreFormFilings}>

            <br>
            <div class="slds-text instructions">
                Select one of the forms from the table below, and 
                click on 'Open Form' to start or continue the filing of the form.
            </div>

            <br>
            <br>

            <table class="slds-table slds-table_bordered">
                <thead>
                    <tr>
                        <th class="slds-cell-wrap">Form</th>
                        <th>Status</th>
                        <th>Created Date</th>
                        <template if:true={showCompletedDate}>
                            <th>Completed Date</th>
                        </template>
                        <th class="actions-cell">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <template for:each={formFilings} for:item='filing'>
                        <tr key={filing.Id}>
                            <td class="slds-cell-wrap">{filing.FormName}</td>
                            <td>{filing.Status}</td>
                            <td>{filing.CreatedDate}</td>
                            <template if:true={showCompletedDate}>
                                <td>{filing.CompletedDate}</td>
                            </template>
                            <td class="actions-cell"><a class="slds-button slds-button_outline-brand" href={filing.Link}>Open</a></td>
                        </tr>
                    </template>
                </tbody>
            </table>

            <br>
            <br>

        </template>

        <template if:false={thereAreFormFilings}>
            <br>
            <br>
            <div class="slds-text-heading_large">There are no available forms.</div>
            <br>
            <div class="slds-text-heading_small">At the moment there are no availables forms to fill.</div>
            <br>
            <br>
        </template>

    </div>

</template>